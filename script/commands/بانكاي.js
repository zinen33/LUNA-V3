module.exports.config = {
  name: "Ø¨Ø§Ù†ÙƒØ§ÙŠ",
  version: "2.0.5",
  hasPermssion: 1,
  credits: "DRIDI-RAYEN",
  description: "Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© â˜‘ï¸âœ¨",
  usePrefix: true,
  commandCategory: "ã€˜ Ø§Ø¯Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ã€™",
  usages: "/Ø­Ø¶Ø± (Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø´Ø®ØµØ§Ùˆ Ø§Ø¹Ù…Ù„ Ù„Ù‡ Ø§Ø´Ø§Ø±Ø©) Ø§Ùˆ /Ø­Ø¸Ø± [@mention] [reason]",
  cooldowns: 5,
  info: [
    {
      key: '[ØªØ§Øº] Ø§Ùˆ [Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø©] "Ø§Ù„Ø³Ø¨Ø¨"',
      prompt: 'ØªØ­Ø°ÙŠØ± Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø®Ø±âš ï¸',
      type: '',
      example: 'Ø·Ø±Ø¯ [ØªØ§Øº] "Ø³Ø¨Ø¨ Ø§Ù„ØªØ­Ø°ÙŠØ±"'
    },
    {
      key: 'Ù‚Ø§Ø¦Ù…Ø©_Ø§Ù„Ø­Ø¶Ø±',
      prompt: 'Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø­Ø¶ÙˆØ±Ø©ğŸ‘¤â›”',
      type: '',
      example: 'Ø·Ø±Ø¯ Ù‚Ø§Ø¦Ù…Ø©_Ø§Ù„Ø­Ø¶Ø±'
    },
    {
      key: 'ÙÙƒ',
      prompt: 'Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶ÙˆğŸ‘¤ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø©ğŸ“œØ§Ù„Ø­Ø¶Ø±â›”',
      type: '',
      example: 'Ø­Ø¶Ø± ÙÙƒ [Ø§ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙÙƒ Ø§Ù„Ø­Ø¶Ø± Ø§Ùˆ Ø­Ø¶Ø±Ù‡â›”]'
    },
    {
      key: 'Ø¹Ø±Ø¶',
      prompt: '"ØªØ§Øº" Ø§Ùˆ "ÙØ§Ø±Øº" Ø§Ùˆ "Ø¹Ø±Ø¶_Ø§Ù„ÙƒÙ„", ÙŠÙØ³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ù„ÙŠ Ù„Ù…Ø¹Ø±ÙØ© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… ÙÙŠÙ‡Ø§ ØªØ­Ø°ÙŠØ± Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ø¨Ø§Ø³Ù…Ùƒ Ø£Ùˆ Ù†ÙØ³Ùƒ Ø£Ùˆ Ø£Ø­Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø±Ø¨Ø¹ ',
      type: '',
      example: 'Ø­Ø¶Ø± Ø¹Ø±Ø¶ [@ØªØ§Øº] /ÙŠØ­Ø°Ø± Ø§Ù„Ø±Ø§ÙŠ'
    },
    {
      key: 'Ø±ÙŠØ³Øª',
      prompt: 'Reset all data in your group',
      type: '',
      example: 'Ø­Ø¶Ø± Ø±ÙŠØ³Øª'
    },
    {
      key: 'Ø­Ø¸Ø± [@mention] [reason]',
      prompt: 'Ø­Ø¸Ø± Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©',
      type: '',
      example: 'Ø­Ø¸Ø± [@mention] Ø³Ø¨Ø¨ Ø§Ù„Ø­Ø¸Ø±'
    }
  ]
};

module.exports.run = async function({ api, args, Users, event, Threads, utils, client }) {
  let { messageID, threadID, senderID } = event;
  var info = await api.getThreadInfo(threadID);

  // Check if the bot is an admin in the group
  if (!info.adminIDs.some(item => item.id == api.getCurrentUserID())) {
    return api.sendMessage('Ø¹Ø°Ø±Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶ÙˆğŸ˜¥\nØ§Ø­ØªØ§Ø¬ Ø£Ù† Ø§ÙƒÙˆÙ† Ù…Ø³ÙˆØ¤Ù„Ø©â³', threadID, messageID);
  }

  // Check if the user trying to use the command is the bot owner
  const botOwner = global.config.ADMINBOT;
  if (botOwner.includes(senderID)) {
    return api.sendMessage('Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ø±Ø¯ Ù†ÙØ³Ùƒ (Ø§Ù„Ù…Ø·ÙˆØ±) Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.', threadID, messageID);
  }

  // Check if the user is trying to ban the bot
  const botID = api.getCurrentUserID();
  if (Object.keys(event.mentions).includes(botID)) {
    return api.sendMessage('Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ø±Ø¯ÙŠ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.', threadID, messageID);
  }

  if (args[0] == "Ø­Ø¸Ø±") {
    const userID = Object.keys(event.mentions)[0];
    if (!userID) {
      return api.sendMessage('ÙŠØ±Ø¬Ù‰ Ø°ÙƒØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø­Ø¸Ø±Ù‡.', threadID, messageID);
    }

    // Check if the mentioned user is the bot owner or the bot itself
    if (botOwner.includes(userID) || userID === botID) {
      return api.sendMessage('Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø¸Ø± Ø§Ù„Ù…Ø·ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¨ÙˆØª Ù†ÙØ³Ù‡ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.', threadID, messageID);
    }

    const reason = (args.slice(1)).join(" ") || "Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø³Ø¨Ø¨";

    try {
      await api.removeUserFromGroup(userID, threadID);
      await api.sendMessage(`ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ø¹Ø¶Ùˆ ${event.mentions[userID]} Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­.\nØ§Ù„Ø³Ø¨Ø¨: ${reason}`, threadID, messageID);
    } catch (error) {
      console.error(error);
      api.sendMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø­Ø¸Ø± Ø§Ù„Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.', threadID, messageID);
    }

    return;
  }

  var fs = require("fs-extra");

  if (!fs.existsSync(__dirname + `/cache/bans.json`)) {
    const dataaa = { warns: {}, banned: {} };
    fs.writeFileSync(__dirname + `/cache/bans.json`, JSON.stringify(dataaa));
  }

  var bans = JSON.parse(fs.readFileSync(__dirname + `/cache/bans.json`)); //read file contents

  if (!bans.warns.hasOwnProperty(threadID)) {
    bans.warns[threadID] = {};
    fs.writeFileSync(__dirname + `/cache/bans.json`, JSON.stringify(bans, null, 2));
  }

  if (args[0] == "Ø¹Ø±Ø¶") {
    // ... (code for "Ø¹Ø±Ø¶" command)
  } else if (args[0] == "ÙÙƒ") {
    // ... (code for "ÙÙƒ" command)
  } else if (args[0] == "Ù„ÙŠØ³Øª_Ø¨Ø§Ù†") {
    // ... (code for "Ù„ÙŠØ³Øª_Ø¨Ø§Ù†" command)
  } else if (args[0] == "Ø±ÙŠØ³Øª") {
    // ... (code for "Ø±ÙŠØ³Øª" command)
  } else {
    // ... (code for warning/banning users)
  }
};
